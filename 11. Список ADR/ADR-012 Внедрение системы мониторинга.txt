Дата:			09.04.2024
Статус:		Принято
Контекст:		С ростом и развитием нашей инфраструктуры возникла необходимость в более мощной и гибкой системе мониторинга, способной обеспечить высокий уровень наблюдаемости за сервисами и инфраструктурой. Требуется система, предоставляющая детальную информацию о состоянии системы, позволяющая оперативно реагировать на инциденты и анализировать тенденции в работе приложений и инфраструктуры.
Решение:		Принято решение внедрить Prometheus в качестве основной системы мониторинга по следующим причинам:
					1. Модель сбора метрик: Prometheus использует активную модель сбора метрик, регулярно опрашивая экспортеры и службы для сбора данных, что обеспечивает актуальность и точность мониторинга.
					2. Гибкость и масштабируемость: Система предлагает высокую гибкость настройки метрик, запросов и алертов, а также способна масштабироваться в соответствии с ростом инфраструктуры.
					3. Выразительный язык запросов (PromQL): Prometheus предоставляет мощный и выразительный язык запросов для анализа собранных метрик, позволяя создавать сложные запросы и агрегации данных.
					4. Встроенная поддержка алертинга: В Prometheus интегрирована система алертинга, позволяющая настраивать уведомления о проблемах на основе собранных метрик.
Последствия:	1. Необходимость управления хранилищем данных: Хранение временных рядов метрик требует внимательного планирования и управления, особенно при больших объемах данных.
				2. Обучение и адаптация: Для эффективного использования Prometheus и PromQL потребуется время на обучение команды.
				3. Интеграция с существующей инфраструктурой: Может потребоваться дополнительная работа по интеграции Prometheus с существующей инфраструктурой и разработке или настройке экспортеров для сбора метрик.
				4. Операционные затраты: Управление экземплярами Prometheus и их масштабирование может повлечь за собой дополнительные операционные затраты.
Альтернативы, которые были рассмотрены:
				1. Zabbix: Традиционное решение для мониторинга инфраструктуры с широкими возможностями, но может быть менее гибким в настройке и сборе метрик.
				2. Grafana Loki: Ориентирован на агрегацию и анализ логов, может использоваться в дополнение к Prometheus для обеспечения комплексного мониторинга, но не заменяет функционал мониторинга метрик.
				3. InfluxDB + Telegraf: Альтернативное решение для сбора и хранения метрик, предлагающее гибкие возможности для временных рядов, но с другим подходом к сбору данных и запросам.